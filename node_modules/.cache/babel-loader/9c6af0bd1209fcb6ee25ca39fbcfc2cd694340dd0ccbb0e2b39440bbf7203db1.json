{"ast":null,"code":"\"use client\";import _objectSpread from\"C:/Users/arvin/OneDrive/Desktop/project2/alumni-verse/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{ChatBubbleLeftRightIcon,StarIcon,PaperAirplaneIcon}from\"@heroicons/react/24/outline\";import{StarIcon as StarIconSolid}from\"@heroicons/react/24/solid\";import api from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Feedback=()=>{const[activeTab,setActiveTab]=useState(\"feedback\");const[submitting,setSubmitting]=useState(false);const[submitted,setSubmitted]=useState(false);// Feedback form state\nconst[feedbackForm,setFeedbackForm]=useState({type:\"general\",subject:\"\",message:\"\",rating:0});// Survey form state\nconst[surveyForm,setSurveyForm]=useState({overallSatisfaction:0,platformUsability:0,contentQuality:0,networkingValue:0,recommendationLikelihood:0,favoriteFeatures:[],improvements:\"\",additionalComments:\"\"});const feedbackTypes=[{value:\"general\",label:\"General Feedback\"},{value:\"bug\",label:\"Bug Report\"},{value:\"feature\",label:\"Feature Request\"},{value:\"content\",label:\"Content Issue\"},{value:\"other\",label:\"Other\"}];const features=[\"Alumni Directory\",\"Job Board\",\"Events\",\"Chat/Messaging\",\"Success Stories\",\"Donation System\",\"Profile Management\",\"Notifications\"];const handleFeedbackChange=e=>{const{name,value}=e.target;setFeedbackForm(_objectSpread(_objectSpread({},feedbackForm),{},{[name]:value}));};const handleSurveyChange=e=>{const{name,value,type,checked}=e.target;if(name===\"favoriteFeatures\"){setSurveyForm(_objectSpread(_objectSpread({},surveyForm),{},{favoriteFeatures:checked?[...surveyForm.favoriteFeatures,value]:surveyForm.favoriteFeatures.filter(f=>f!==value)}));}else{setSurveyForm(_objectSpread(_objectSpread({},surveyForm),{},{[name]:type===\"number\"?Number.parseInt(value):value}));}};const handleRatingClick=function(rating){let field=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"rating\";if(activeTab===\"feedback\"){setFeedbackForm(_objectSpread(_objectSpread({},feedbackForm),{},{[field]:rating}));}else{setSurveyForm(_objectSpread(_objectSpread({},surveyForm),{},{[field]:rating}));}};const handleFeedbackSubmit=async e=>{e.preventDefault();setSubmitting(true);try{const res=await api.post(\"/feedback\",{type:\"feedback\",data:feedbackForm});if(!res.success)throw new Error(res.error||'Failed to submit feedback');setSubmitted(true);setFeedbackForm({type:\"general\",subject:\"\",message:\"\",rating:0});}catch(error){console.error(\"Failed to submit feedback:\",error);}finally{setSubmitting(false);}};const handleSurveySubmit=async e=>{e.preventDefault();setSubmitting(true);try{const res=await api.post(\"/feedback\",{type:\"survey\",data:surveyForm});if(!res.success)throw new Error(res.error||'Failed to submit survey');setSubmitted(true);setSurveyForm({overallSatisfaction:0,platformUsability:0,contentQuality:0,networkingValue:0,recommendationLikelihood:0,favoriteFeatures:[],improvements:\"\",additionalComments:\"\"});}catch(error){console.error(\"Failed to submit survey:\",error);}finally{setSubmitting(false);}};const renderStars=function(rating,onStarClick){let field=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"rating\";return/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>onStarClick(star,field),className:\"focus:outline-none\",children:star<=rating?/*#__PURE__*/_jsx(StarIconSolid,{className:\"h-6 w-6 text-yellow-400\"}):/*#__PURE__*/_jsx(StarIcon,{className:\"h-6 w-6 text-gray-300 dark:text-gray-600\"})},star))});};if(submitted){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-8 w-8 text-green-600 dark:text-green-400\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4\",children:\"Thank You!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:[\"Your \",activeTab,\" has been submitted successfully. We appreciate your input and will use it to improve the platform.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSubmitted(false);setActiveTab(\"feedback\");},className:\"btn-primary\",children:\"Submit Another Response\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2\",children:\"Feedback & Survey\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Help us improve the alumni platform with your valuable feedback\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"feedback\"),className:\"flex-1 py-2 px-4 rounded-md font-medium transition-colors duration-200 \".concat(activeTab===\"feedback\"?\"bg-white dark:bg-gray-700 text-primary-600 dark:text-primary-400 shadow-sm\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200\"),children:[/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-5 w-5 inline mr-2\"}),\"General Feedback\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"survey\"),className:\"flex-1 py-2 px-4 rounded-md font-medium transition-colors duration-200 \".concat(activeTab===\"survey\"?\"bg-white dark:bg-gray-700 text-primary-600 dark:text-primary-400 shadow-sm\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200\"),children:[/*#__PURE__*/_jsx(StarIcon,{className:\"h-5 w-5 inline mr-2\"}),\"Platform Survey\"]})]}),activeTab===\"feedback\"&&/*#__PURE__*/_jsx(\"div\",{className:\"card p-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFeedbackSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Feedback Type\"}),/*#__PURE__*/_jsx(\"select\",{name:\"type\",value:feedbackForm.type,onChange:handleFeedbackChange,className:\"input-field\",children:feedbackTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type.value,children:type.label},type.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"subject\",required:true,value:feedbackForm.subject,onChange:handleFeedbackChange,className:\"input-field\",placeholder:\"Brief description of your feedback\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Overall Rating\"}),renderStars(feedbackForm.rating,handleRatingClick)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",required:true,rows:6,value:feedbackForm.message,onChange:handleFeedbackChange,className:\"input-field\",placeholder:\"Please provide detailed feedback...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting,className:\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-5 w-5 mr-2\"}),\"Submit Feedback\"]})})]})}),activeTab===\"survey\"&&/*#__PURE__*/_jsx(\"div\",{className:\"card p-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSurveySubmit,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"Overall satisfaction with the alumni platform\"}),renderStars(surveyForm.overallSatisfaction,handleRatingClick,\"overallSatisfaction\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"Platform usability and ease of navigation\"}),renderStars(surveyForm.platformUsability,handleRatingClick,\"platformUsability\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"Quality of content and information\"}),renderStars(surveyForm.contentQuality,handleRatingClick,\"contentQuality\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"Value for networking and connections\"}),renderStars(surveyForm.networkingValue,handleRatingClick,\"networkingValue\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"How likely are you to recommend this platform to other alumni?\"}),renderStars(surveyForm.recommendationLikelihood,handleRatingClick,\"recommendationLikelihood\")]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",children:\"Which features do you find most valuable? (Select all that apply)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:features.map(feature=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"favoriteFeatures\",value:feature,checked:surveyForm.favoriteFeatures.includes(feature),onChange:handleSurveyChange,className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700 dark:text-gray-300\",children:feature})]},feature))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"What improvements would you like to see?\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"improvements\",rows:4,value:surveyForm.improvements,onChange:handleSurveyChange,className:\"input-field\",placeholder:\"Suggest features, improvements, or changes...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Additional comments\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"additionalComments\",rows:3,value:surveyForm.additionalComments,onChange:handleSurveyChange,className:\"input-field\",placeholder:\"Any other thoughts or suggestions...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting,className:\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StarIcon,{className:\"h-5 w-5 mr-2\"}),\"Submit Survey\"]})})]})})]});};export default Feedback;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}