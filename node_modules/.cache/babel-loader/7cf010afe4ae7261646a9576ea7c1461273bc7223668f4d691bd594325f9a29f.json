{"ast":null,"code":"\"use client\";import{useEffect}from\"react\";import{useNotifications}from\"../context/NotificationContext\";import{BellIcon,CheckIcon,ExclamationTriangleIcon,InformationCircleIcon,CheckCircleIcon}from\"@heroicons/react/24/outline\";import LoadingSpinner from\"../components/LoadingSpinner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notifications=()=>{const{notifications,unreadCount,fetchNotifications,markAsRead,markAllAsRead}=useNotifications();useEffect(()=>{fetchNotifications();},[fetchNotifications]);const getNotificationIcon=type=>{switch(type){case\"success\":return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-green-500\"});case\"warning\":return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-6 w-6 text-yellow-500\"});case\"error\":return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-6 w-6 text-red-500\"});default:return/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"h-6 w-6 text-blue-500\"});}};const getNotificationBg=(type,isRead)=>{const baseClasses=isRead?\"bg-white dark:bg-gray-800\":\"bg-blue-50 dark:bg-blue-900/20\";switch(type){case\"success\":return isRead?baseClasses:\"bg-green-50 dark:bg-green-900/20\";case\"warning\":return isRead?baseClasses:\"bg-yellow-50 dark:bg-yellow-900/20\";case\"error\":return isRead?baseClasses:\"bg-red-50 dark:bg-red-900/20\";default:return baseClasses;}};const formatDate=date=>{const now=new Date();const notificationDate=new Date(date);const diffInHours=Math.floor((now-notificationDate)/(1000*60*60));const diffInMinutes=Math.floor((now-notificationDate)/(1000*60));if(diffInHours<1){return diffInMinutes<1?\"Just now\":\"\".concat(diffInMinutes,\"m ago\");}else if(diffInHours<24){return\"\".concat(diffInHours,\"h ago\");}else{const diffInDays=Math.floor(diffInHours/24);return diffInDays===1?\"1 day ago\":\"\".concat(diffInDays,\" days ago\");}};if(!notifications){return/*#__PURE__*/_jsx(LoadingSpinner,{text:\"Loading notifications...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:unreadCount>0?\"\".concat(unreadCount,\" unread notification\").concat(unreadCount!==1?\"s\":\"\"):\"All caught up!\"})]}),unreadCount>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:markAllAsRead,className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 mr-2\"}),\"Mark All Read\"]})]}),notifications.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-4 transition-colors duration-200 \".concat(getNotificationBg(notification.type,notification.isRead)),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mt-1\",children:getNotificationIcon(notification.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(notification.isRead?\"text-gray-600 dark:text-gray-400\":\"text-gray-900 dark:text-gray-100 font-medium\"),children:notification.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:formatDate(notification.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[!notification.isRead&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsRead(notification._id),className:\"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium\",children:\"Mark as read\"}),!notification.isRead&&/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-primary-600 rounded-full\"})]})]}),notification.actionUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"a\",{href:notification.actionUrl,className:\"inline-flex items-center text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 font-medium\",children:\"View Details \\u2192\"})})]})]})},notification._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100\",children:\"No notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"You're all caught up! New notifications will appear here.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12 card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\",children:\"Notification Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"h-5 w-5 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:\"General Updates\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Platform updates, announcements\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:\"Success Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Confirmations, achievements\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:\"Warnings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Important reminders, deadlines\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-red-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:\"Alerts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Urgent issues, security alerts\"})]})]})]})]})]});};export default Notifications;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}