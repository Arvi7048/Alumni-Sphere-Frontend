{"ast":null,"code":"\"use client\";import _objectSpread from\"C:/Users/arvin/OneDrive/Desktop/project2/alumni-verse/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useRef,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{CameraIcon,PencilIcon,TrashIcon,ExclamationTriangleIcon}from\"@heroicons/react/24/outline\";import api from\"../utils/api\";import{toast}from\"react-hot-toast\";import{getImageUrl}from\"../utils/image\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{var _profileUser$name,_profileUser$name$cha;const{id}=useParams();const{user,updateUser,logout}=useAuth();const navigate=useNavigate();const[showDeleteDialog,setShowDeleteDialog]=useState(false);const[showChangePasswordDialog,setShowChangePasswordDialog]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const[passwordData,setPasswordData]=useState({currentPassword:'',newPassword:'',confirmPassword:''});const[passwordError,setPasswordError]=useState('');const viewingOwnProfile=!id||id===(user===null||user===void 0?void 0:user._id);const[profileUser,setProfileUser]=useState(viewingOwnProfile?user:null);const[isEditing,setIsEditing]=useState(false);const[loading,setLoading]=useState(false);const[uploading,setUploading]=useState(false);const[formData,setFormData]=useState({name:(user===null||user===void 0?void 0:user.name)||\"\",email:(user===null||user===void 0?void 0:user.email)||\"\",batch:(user===null||user===void 0?void 0:user.batch)||\"\",branch:(user===null||user===void 0?void 0:user.branch)||\"\",location:(user===null||user===void 0?void 0:user.location)||\"\",bio:(user===null||user===void 0?void 0:user.bio)||\"\",company:(user===null||user===void 0?void 0:user.company)||\"\",position:(user===null||user===void 0?void 0:user.position)||\"\",linkedin:(user===null||user===void 0?void 0:user.linkedin)||\"\",github:(user===null||user===void 0?void 0:user.github)||\"\",website:(user===null||user===void 0?void 0:user.website)||\"\"});const fileInputRef=useRef(null);useEffect(()=>{const fetchProfileUser=async()=>{if(viewingOwnProfile){// Always fetch fresh profile data from API for current user\nsetLoading(true);try{const res=await api.get(\"/users/profile\");if(res.success){const userData=res.data;setProfileUser(userData);setFormData({name:(userData===null||userData===void 0?void 0:userData.name)||\"\",email:(userData===null||userData===void 0?void 0:userData.email)||\"\",batch:(userData===null||userData===void 0?void 0:userData.batch)||\"\",branch:(userData===null||userData===void 0?void 0:userData.branch)||\"\",location:(userData===null||userData===void 0?void 0:userData.location)||\"\",bio:(userData===null||userData===void 0?void 0:userData.bio)||\"\",company:(userData===null||userData===void 0?void 0:userData.company)||\"\",position:(userData===null||userData===void 0?void 0:userData.position)||\"\",linkedin:(userData===null||userData===void 0?void 0:userData.linkedin)||\"\",github:(userData===null||userData===void 0?void 0:userData.github)||\"\",website:(userData===null||userData===void 0?void 0:userData.website)||\"\"});}else{throw new Error(res.error||'Failed to fetch profile');}}catch(error){console.error(\"Failed to fetch profile:\",error);// Fallback to user from context if API fails\nsetProfileUser(user);setFormData({name:(user===null||user===void 0?void 0:user.name)||\"\",email:(user===null||user===void 0?void 0:user.email)||\"\",batch:(user===null||user===void 0?void 0:user.batch)||\"\",branch:(user===null||user===void 0?void 0:user.branch)||\"\",location:(user===null||user===void 0?void 0:user.location)||\"\",bio:(user===null||user===void 0?void 0:user.bio)||\"\",company:(user===null||user===void 0?void 0:user.company)||\"\",position:(user===null||user===void 0?void 0:user.position)||\"\",linkedin:(user===null||user===void 0?void 0:user.linkedin)||\"\",github:(user===null||user===void 0?void 0:user.github)||\"\",website:(user===null||user===void 0?void 0:user.website)||\"\"});}finally{setLoading(false);}}else if(id){setLoading(true);try{const res=await api.get(\"/users/\".concat(id));if(!res.success)throw new Error(res.error||'Failed to fetch user');setProfileUser(res.data);}catch(error){setProfileUser(null);}finally{setLoading(false);}}};fetchProfileUser();// eslint-disable-next-line\n},[id,user]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const cleanFormData=data=>{// Create a new object with only the fields we want to send\nconst cleaned={};// List of allowed fields that can be updated\nconst allowedFields=['name','email','batch','branch','location','bio','company','position','linkedin','github','website'];// Only include allowed fields and remove any empty strings\nallowedFields.forEach(field=>{if(data[field]!==undefined&&data[field]!==''){cleaned[field]=data[field];}});return cleaned;};const validateFormData=data=>{// Add any client-side validation here\nconst errors=[];// Example validation:\nif(data.email&&!/\\S+@\\S+\\.\\S+/.test(data.email)){errors.push('Please enter a valid email address');}if(data.batch&&isNaN(parseInt(data.batch))){errors.push('Batch year must be a number');}return errors;};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{// Clean and validate the form data\nconst cleanedData=cleanFormData(formData);const validationErrors=validateFormData(cleanedData);if(validationErrors.length>0){validationErrors.forEach(error=>toast.error(error));return;}// Log the data being sent to the server\nconsole.log('Submitting profile update with data:',JSON.stringify(cleanedData,null,2));// Log the API endpoint and headers\nconsole.log('API Endpoint:','/users/profile');const token=localStorage.getItem('token');if(!token){throw new Error('No authentication token found');}console.log('Request Headers:',{'Content-Type':'application/json','Authorization':\"Bearer ***\"});// Make the API call\nconst res=await api.put(\"/users/profile\",cleanedData);if(!res.success){console.error('Profile update failed with response:',res);throw new Error(res.error||'Failed to update profile');}console.log('Profile update successful:',res.data);updateUser(res.data);setIsEditing(false);toast.success('Profile updated successfully!');}catch(error){var _error$response,_error$response$data,_error$response2,_error$response3;console.error(\"Failed to update profile:\",error);let errorMessage='Failed to update profile. Please try again.';// Try to get a more specific error message\nif((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.message){errorMessage=error.response.data.message;}else if(error.message){errorMessage=error.message;}console.error('Error details:',{message:errorMessage,status:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status,data:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data});toast.error(errorMessage);}finally{setLoading(false);}};const handleImageUpload=async e=>{const file=e.target.files[0];if(!file)return;// Validate file type\nif(!file.type.match('image.*')){toast.error('Please select a valid image file');return;}// Validate file size (max 5MB)\nif(file.size>5*1024*1024){toast.error('Image size should be less than 5MB');return;}const formData=new FormData();formData.append('image',file);setUploading(true);try{const res=await api.post('/upload/profile-image',formData,{headers:{'Content-Type':'multipart/form-data'},withCredentials:true// Include credentials for CORS\n});if(!res.data||!res.data.imageUrl){throw new Error('Invalid response from server');}// Update user context with new image URL\nupdateUser(_objectSpread(_objectSpread({},user),{},{profileImage:res.data.imageUrl}));// Also update local profile user state\nsetProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{profileImage:res.data.imageUrl}));toast.success('Profile image updated successfully!');}catch(error){var _error$response4,_error$response4$data;console.error('Failed to upload image:',error);const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to upload image. Please try again.';toast.error(errorMessage);}finally{setUploading(false);// Reset file input to allow re-uploading the same file\nif(fileInputRef.current){fileInputRef.current.value='';}}};const branches=[\"Computer Science\",\"Information Technology\",\"Electronics\",\"Mechanical\",\"Civil\",\"Electrical\",\"Chemical\",\"Biotechnology\",\"Artificial-Intelligence\",\"Other\"];const currentYear=new Date().getFullYear();const batches=Array.from({length:50},(_,i)=>currentYear-i);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-[200px]\",children:\"Loading profile...\"});}if(!profileUser){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-[200px] text-red-500\",children:\"Profile not found.\"});}const handlePasswordChange=e=>{const{name,value}=e.target;setPasswordData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(passwordError)setPasswordError('');};const handlePasswordSubmit=async e=>{e.preventDefault();// Validate passwords\nif(passwordData.newPassword!==passwordData.confirmPassword){setPasswordError(\"New passwords don't match\");return;}if(passwordData.newPassword.length<6){setPasswordError(\"Password must be at least 6 characters long\");return;}try{const res=await api.post('/otp-auth/change-password',{currentPassword:passwordData.currentPassword,newPassword:passwordData.newPassword},{withCredentials:true});if(!res.success)throw new Error(res.error||'Failed to change password');// Show success message\ntoast.success('Password changed successfully!');// Reset form and close dialog\nsetPasswordData({currentPassword:'',newPassword:'',confirmPassword:''});setShowChangePasswordDialog(false);}catch(error){var _error$response5,_error$response5$data;console.error('Error changing password:',error);setPasswordError(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Failed to change password');}};const handleDeleteAccount=async()=>{// Double confirmation for safety\nif(typeof window==='undefined'||!window.confirm(\"WARNING: This will permanently delete your account and all associated data. This action cannot be undone. Are you sure?\")){return;}setIsDeleting(true);try{const res=await api.delete(\"/users/delete-account\",{withCredentials:true});if(!res.success)throw new Error(res.error||'Failed to delete account');// Show success message before logging out\ntoast.success(\"Your account has been successfully deleted\");// Logout the user\nlogout();// No need to await this as it's a synchronous operation\n// Redirect to home page after a short delay\nsetTimeout(()=>{navigate(\"/\");},1000);}catch(error){var _error$response6,_error$response6$data;console.error(\"Error deleting account:\",error);const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||\"Failed to delete account. Please try again.\";toast.error(errorMessage);}finally{setIsDeleting(false);setShowDeleteDialog(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[showChangePasswordDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowChangePasswordDialog(false);setPasswordError('');setPasswordData({currentPassword:'',newPassword:'',confirmPassword:''});},className:\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordSubmit,className:\"space-y-4\",children:[passwordError&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-md text-sm\",children:passwordError}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currentPassword\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"currentPassword\",name:\"currentPassword\",value:passwordData.currentPassword,onChange:handlePasswordChange,className:\"input-field w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"newPassword\",name:\"newPassword\",value:passwordData.newPassword,onChange:handlePasswordChange,className:\"input-field w-full\",required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:passwordData.confirmPassword,onChange:handlePasswordChange,className:\"input-field w-full\",required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowChangePasswordDialog(false);setPasswordError('');setPasswordData({currentPassword:'',newPassword:'',confirmPassword:''});},className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Change Password\"})]})]})]})}),showDeleteDialog&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-6 w-6 text-red-500 mr-2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Delete Account\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mb-6\",children:\"Are you sure you want to delete your account? This action is permanent and cannot be undone. All your data will be permanently removed from our servers.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteDialog(false),className:\"btn-secondary\",disabled:isDeleting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAccount,className:\"btn-danger flex items-center\",disabled:isDeleting,children:isDeleting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),\"Deleting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Delete My Account\"]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-gray-100\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:viewingOwnProfile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowChangePasswordDialog(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center text-sm font-medium transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"})}),\"Change Password\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDeleteDialog(true),className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center text-sm font-medium transition-colors\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\"Delete Account\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditing(!isEditing),className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-2\"}),isEditing?\"Cancel\":\"Edit Profile\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[profileUser!==null&&profileUser!==void 0&&profileUser.profileImage?/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(profileUser.profileImage),alt:\"Profile\",className:\"w-32 h-32 rounded-full object-cover border-4 border-white dark:border-gray-700 shadow-lg\",onError:e=>{e.target.onerror=null;e.target.src=\"/placeholder.svg\";},crossOrigin:\"anonymous\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center border-4 border-white dark:border-gray-700 shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl font-bold text-gray-600 dark:text-gray-300\",children:profileUser===null||profileUser===void 0?void 0:(_profileUser$name=profileUser.name)===null||_profileUser$name===void 0?void 0:(_profileUser$name$cha=_profileUser$name.charAt(0))===null||_profileUser$name$cha===void 0?void 0:_profileUser$name$cha.toUpperCase()})}),viewingOwnProfile&&isEditing&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:uploading,className:\"absolute bottom-0 right-0 bg-primary-600 hover:bg-primary-700 text-white p-2 rounded-full shadow-lg transition-colors duration-200 disabled:opacity-50\",children:uploading?/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}):/*#__PURE__*/_jsx(CameraIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleImageUpload,className:\"hidden\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-xl font-semibold text-gray-900 dark:text-gray-100\",children:profileUser===null||profileUser===void 0?void 0:profileUser.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:[profileUser===null||profileUser===void 0?void 0:profileUser.batch,\" \\u2022 \",profileUser===null||profileUser===void 0?void 0:profileUser.branch]})]}),viewingOwnProfile?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Graduation Year\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"batch\",value:formData.batch,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select year\"}),batches.map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Branch\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"branch\",value:formData.branch,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select branch\"}),branches.map(branch=>/*#__PURE__*/_jsx(\"option\",{value:branch,children:branch},branch))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Current Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:formData.location,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"City, Country\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\",children:\"Professional Information\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Company\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"company\",value:formData.company,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"Current company\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Position\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"position\",value:formData.position,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"Job title\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"LinkedIn\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"linkedin\",value:formData.linkedin,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"LinkedIn profile URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"GitHub\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"github\",value:formData.github,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"GitHub profile URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Website\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"website\",value:formData.website,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"Personal website\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"bio\",rows:4,value:formData.bio,onChange:handleChange,disabled:!isEditing,className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",placeholder:\"Tell us about yourself...\"})]}),isEditing&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Saving...\"]}):\"Save Changes\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Graduation Year\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.batch})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.branch})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.location})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\",children:\"Professional Info\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Company\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.company})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.position})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"LinkedIn\"}),profileUser!==null&&profileUser!==void 0&&profileUser.linkedin?/*#__PURE__*/_jsx(\"a\",{href:profileUser.linkedin,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-primary-600 hover:underline\",children:profileUser.linkedin}):/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:cursor-not-allowed\",children:profileUser===null||profileUser===void 0?void 0:profileUser.bio})]})]})]})]})]});};export default Profile;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}