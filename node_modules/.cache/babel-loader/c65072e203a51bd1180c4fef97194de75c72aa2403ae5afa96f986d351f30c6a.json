{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{useTheme}from\"../context/ThemeContext\";import{useNotifications}from\"../context/NotificationContext\";import{API_CONFIG}from\"../config/config\";import{getImageUrl}from\"../utils/image\";import{Bars3Icon,XMarkIcon,SunIcon,MoonIcon,BellIcon,UserCircleIcon,ChevronDownIcon}from\"@heroicons/react/24/outline\";import{Menu,Transition}from\"@headlessui/react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[isOpen,setIsOpen]=useState(false);const{user,isAuthenticated,logout}=useAuth();const{isDark,toggleTheme}=useTheme();const{unreadCount}=useNotifications();const location=useLocation();const navigate=useNavigate();const handleLogout=()=>{logout();navigate(\"/login\");};const navigation=[{name:\"Home\",href:\"/\",auth:true},{name:\"Directory\",href:\"/directory\",auth:true},{name:\"Jobs\",href:\"/jobs\",auth:true},{name:\"Events\",href:\"/events\",auth:true},{name:\"Stories\",href:\"/stories\",auth:true},{name:\"Chat\",href:\"/chat\",auth:true},{name:\"About\",href:\"/about\",auth:false}];const isActive=path=>location.pathname===path;if(!isAuthenticated&&![\"/login\",\"/signup\",\"/forgot-password\",\"/about\"].includes(location.pathname)){return null;}return/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex-shrink-0 flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-primary-600 dark:text-primary-400\",children:\"Alumni Verse\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex items-center space-x-8\",children:navigation.map(item=>{if(item.auth&&!isAuthenticated)return null;return/*#__PURE__*/_jsx(Link,{to:item.href,className:\"\".concat(isActive(item.href)?\"nav-link-active\":\"nav-link\",\" px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200\"),children:item.name},item.name);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",children:isDark?/*#__PURE__*/_jsx(SunIcon,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(MoonIcon,{className:\"h-5 w-5\"})}),isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/notifications\",className:\"relative p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"h-5 w-5\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:unreadCount>9?\"9+\":unreadCount})]}),/*#__PURE__*/_jsxs(Menu,{as:\"div\",className:\"relative\",children:[/*#__PURE__*/_jsxs(Menu.Button,{className:\"flex items-center space-x-2 p-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",children:[user!==null&&user!==void 0&&user.profileImage?/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(user.profileImage),alt:\"Profile\",className:\"h-8 w-8 rounded-full object-cover\",onError:e=>{e.target.onerror=null;e.target.src=\"/placeholder.svg\";},crossOrigin:\"anonymous\"}):/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-8 w-8\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-4 w-4\"})]}),/*#__PURE__*/_jsx(Transition,{enter:\"transition ease-out duration-100\",enterFrom:\"transform opacity-0 scale-95\",enterTo:\"transform opacity-100 scale-100\",leave:\"transition ease-in duration-75\",leaveFrom:\"transform opacity-100 scale-100\",leaveTo:\"transform opacity-0 scale-95\",children:/*#__PURE__*/_jsx(Menu.Items,{className:\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsx(Menu.Item,{children:_ref=>{let{active}=_ref;return/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"\".concat(active?\"bg-gray-100 dark:bg-gray-700\":\"\",\" block px-4 py-2 text-sm text-gray-700 dark:text-gray-200\"),children:\"Profile\"});}}),/*#__PURE__*/_jsx(Menu.Item,{children:_ref2=>{let{active}=_ref2;return/*#__PURE__*/_jsx(Link,{to:\"/settings\",className:\"\".concat(active?\"bg-gray-100 dark:bg-gray-700\":\"\",\" block px-4 py-2 text-sm text-gray-700 dark:text-gray-200\"),children:\"Settings\"});}}),(user===null||user===void 0?void 0:user.role)===\"admin\"&&/*#__PURE__*/_jsx(Menu.Item,{children:_ref3=>{let{active}=_ref3;return/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"\".concat(active?\"bg-gray-100 dark:bg-gray-700\":\"\",\" block px-4 py-2 text-sm text-gray-700 dark:text-gray-200\"),children:\"Admin Dashboard\"});}}),/*#__PURE__*/_jsx(Menu.Item,{children:_ref4=>{let{active}=_ref4;return/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"\".concat(active?\"bg-gray-100 dark:bg-gray-700\":\"\",\" block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200\"),children:\"Sign out\"});}})]})})})]})]}),!isAuthenticated&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-gray-700 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/otp-signup\",className:\"btn-primary\",children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200\",children:isDark?/*#__PURE__*/_jsx(SunIcon,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(MoonIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(!isOpen),className:\"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200\",children:isOpen?/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"}):/*#__PURE__*/_jsx(Bars3Icon,{className:\"h-6 w-6\"})})]})]})}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700\",children:[navigation.map(item=>{if(item.auth&&!isAuthenticated)return null;return/*#__PURE__*/_jsx(Link,{to:item.href,className:\"\".concat(isActive(item.href)?\"bg-primary-50 dark:bg-primary-900 text-primary-700 dark:text-primary-300\":\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700\",\" block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200\"),onClick:()=>setIsOpen(false),children:item.name},item.name);}),isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:\"Profile\"}),/*#__PURE__*/_jsxs(Link,{to:\"/notifications\",className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:[\"Notifications \",unreadCount>0&&\"(\".concat(unreadCount,\")\")]}),/*#__PURE__*/_jsx(Link,{to:\"/settings\",className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:\"Settings\"}),(user===null||user===void 0?void 0:user.role)===\"admin\"&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleLogout();setIsOpen(false);},className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block w-full text-left px-3 py-2 rounded-md text-base font-medium\",children:\"Sign out\"})]}),!isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/otp-signup\",className:\"bg-primary-600 text-white hover:bg-primary-700 block px-3 py-2 rounded-md text-base font-medium\",onClick:()=>setIsOpen(false),children:\"Sign Up\"})]})]})})]});};export default Navbar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}